<!--
  Arquivo: Cartinha_Muito_Foda_para_seu_Amor.html
  Como usar: salve este conte√∫do como "cartinha.html" e envie/abra no navegador.
  Edite as vari√°veis dentro do <script> no final para personalizar nome, mensagem e foto.
-->

<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pra voc√™ üíñ</title>
  <style>
    :root{
      --bg1: #0f172a;
      --bg2: #7c3aed;
      --glass: rgba(255,255,255,0.06);
      --accent: #ff6b81;
      --light: #f8fafc;
      --card-radius: 20px;
      --max-w: 960px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,0.15), transparent),
                  linear-gradient(135deg,var(--bg1), #071034 40%, var(--bg2));
      color:var(--light);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }

    .card{
      width:100%;
      max-width:var(--max-w);
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:var(--card-radius);
      padding:28px;
      box-shadow: 0 10px 40px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(6px) saturate(120%);
    }

    header{
      display:flex;gap:16px;align-items:center;
    }
    .avatar{
      width:98px;height:98px;border-radius:18px;flex:0 0 98px;background:linear-gradient(135deg,#111827,#1f2937);display:grid;place-items:center;font-size:40px
    }
    h1{margin:0;font-size:20px;letter-spacing:0.2px}
    p.lead{margin:6px 0 0 0;opacity:0.9}

    main{
      display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:20px;align-items:start;
    }

    .love-box{
      background:var(--glass);
      padding:18px;border-radius:14px;min-height:220px;position:relative;overflow:hidden;
    }
    .typewriter{font-size:18px;line-height:1.6;white-space:pre-wrap}

    .photo-panel{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:12px;align-items:center;
    }
    .photo{width:100%;height:220px;border-radius:12px;background:linear-gradient(180deg,#0b1220,#12203a);display:grid;place-items:center;color:rgba(255,255,255,0.6);font-size:14px}

    .btns{display:flex;gap:8px;width:100%}
    button{cursor:pointer;border:0;padding:10px 12px;border-radius:10px;font-weight:600;background:rgba(255,255,255,0.04);color:var(--light)}
    .accent{background:linear-gradient(90deg,var(--accent), #ff8fa3);box-shadow:0 6px 20px rgba(255,107,129,0.12)}

    .heart{position:absolute;right:-40px;top:-40px;width:220px;height:220px;opacity:0.06;transform:rotate(15deg)}

    footer{margin-top:18px;opacity:0.85;font-size:13px;display:flex;justify-content:space-between;align-items:center}

    /* floating hearts animation */
    .float-heart{position:absolute;left:50%;top:50%;pointer-events:none;}
    .small{width:18px;height:18px}

    @media (max-width:880px){
      main{grid-template-columns:1fr;}
      .photo-panel{order:-1}
    }

    /* confetti canvas full cover */
    #confettiCanvas{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none}

    /* little sparkle animation */
    .spark{position:absolute;width:6px;height:6px;border-radius:50%;background:white;opacity:0.12;filter:blur(6px)}

  </style>
</head>
<body>
  <div class="card" id="card">
    <svg class="heart" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 21s-8-5.333-8-10a4 4 0 018-3.333A4 4 0 0120 11c0 4.667-8 10-8 10z" fill="#ff6b81"/>
    </svg>

    <header>
      <div class="avatar" id="avatar">üíå</div>
      <div>
        <h1 id="title">Uma surpresa pra voc√™</h1>
        <p class="lead" id="subtitle">Abra, leia, sorria e guarda esse HTML no cora√ß√£o (e no celular).</p>
      </div>
    </header>

    <main>
      <section class="love-box">
        <div class="typewriter" id="typewriter">Carregando... ‚ú®</div>

        <!-- small floating hearts (generated by JS) -->
      </section>

      <aside class="photo-panel">
        <div class="photo" id="photo">Sua foto aqui</div>
        <div style="width:100%;display:flex;gap:8px;">
          <button class="accent" id="surpriseBtn">Me surpreenda ‚ú®</button>
          <button id="downloadBtn">Baixar carta</button>
        </div>

        <div style="width:100%;display:flex;justify-content:space-between;font-size:12px;opacity:0.85">
          <span id="fromLine">De: Algu√©m especial</span>
          <span id="dateLine"></span>
        </div>
      </aside>

    </main>

    <canvas id="confettiCanvas"></canvas>

    <footer>
      <div>Feito com ‚ù§ e poucas instru√ß√µes</div>
      <div style="opacity:0.7">Toque em "Me surpreenda" ‚Äî e n√£o conte pro pessoal ainda üòâ</div>
    </footer>
  </div>

  <script>
    /* ========== Personalize aqui ========== */
    const CONFIG = {
      nameTo: 'Minha vida', // nome que aparece no in√≠cio
      nameFrom: 'Matheus',
      message: `Oi Amor,

Queria s√≥ te lembrar que escolher voc√™ foi a melhor decis√£o de todos os meus dias. Cada risada, cada mentira boba que a gente conta pra dormir, todo nosso jeitinho torto ‚Äî eu guardo tudo num cantinho VIP do meu cora√ß√£o.

Te amo mais que tudo nessa vida, faria qualquer coisa por voc√™, passaria por tudo e por todos pra te ver bem e feliz.

Beijos, e at√© s√°bado.`,
      photoPlaceholderText: 'Arraste uma foto pra c√° ou edite o HTML pra trocar a imagem',
      downloadFilename: 'cartinha-para-voce.html'
    }

    // small util: format date
    function prettyDate(){
      const d = new Date();
      return d.toLocaleDateString('pt-BR', {day:'2-digit', month:'long', year:'numeric'});
    }

    document.getElementById('title').textContent = `Pra voc√™, ${CONFIG.nameTo} ‚ù§Ô∏è`;
    document.getElementById('fromLine').textContent = `De: ${CONFIG.nameFrom}`;
    document.getElementById('dateLine').textContent = prettyDate();
    document.getElementById('photo').textContent = CONFIG.photoPlaceholderText;

    // typewriter effect that types line by line
    const typeEl = document.getElementById('typewriter');
    function typeMessage(text, speed=18){
      typeEl.textContent = '';
      let i=0;
      function step(){
        if(i<text.length){
          typeEl.textContent += text[i];
          i++;
          setTimeout(step, speed);
        }
      }
      step();
    }

    // initial slow type
    typeMessage(CONFIG.message, 18);

    // floating hearts generator
    const card = document.getElementById('card');
    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'spark';
      const size = Math.random()*14+6;
      h.style.width = size+'px'; h.style.height = size+'px';
      h.style.left = Math.random()*80 + '%';
      h.style.top = Math.random()*70 + '%';
      card.appendChild(h);
      const dur = 1500 + Math.random()*1600;
      h.animate([
        {transform:'translateY(0) scale(1)', opacity:0.9},
        {transform:`translateY(-${50+Math.random()*120}px) scale(0.2)`, opacity:0}
      ],{duration:dur,easing:'cubic-bezier(.2,.8,.2,1)'});
      setTimeout(()=> h.remove(), dur);
    }
    setInterval(spawnHeart, 700);

    // confetti simple implementation
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');
    function fitCanvas(){
      canvas.width = card.clientWidth;
      canvas.height = card.clientHeight;
    }
    fitCanvas();
    window.addEventListener('resize', fitCanvas);

    function burst(){
      const pieces = [];
      for(let i=0;i<120;i++){
        pieces.push({
          x: Math.random()*canvas.width,
          y: Math.random()*canvas.height/2,
          vx: (Math.random()-0.5)*8,
          vy: Math.random()*6+2,
          r: Math.random()*6+2,
          life: 60 + Math.random()*60,
          color: `hsl(${Math.random()*360},70%,60%)`
        })
      }

      let t=0;
      function frame(){
        t++;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        pieces.forEach(p=>{
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.18; // gravity
          p.life -= 1;
          ctx.fillStyle = p.color;
          ctx.beginPath();
          ctx.ellipse(p.x,p.y,p.r,p.r*0.6,0,0,Math.PI*2);
          ctx.fill();
        })
        if(pieces.some(p=>p.life>0)) requestAnimationFrame(frame);
        else ctx.clearRect(0,0,canvas.width,canvas.height);
      }
      frame();
    }

    // surprise button
    document.getElementById('surpriseBtn').addEventListener('click', ()=>{
      // quicker type and confetti
      typeMessage(CONFIG.message, 8);
      burst();
      // tiny pulse
      card.animate([{transform:'scale(1)'},{transform:'scale(1.01)'},{transform:'scale(1)'}],{duration:420,iterations:1});
    });

    // download full HTML as file
    document.getElementById('downloadBtn').addEventListener('click', ()=>{
      const blob = new Blob([document.documentElement.outerHTML], {type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = CONFIG.downloadFilename; document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
    });

    // drag & drop photo into the photo panel
    const photoPanel = document.getElementById('photo');
    photoPanel.addEventListener('dragover', e=>{e.preventDefault(); photoPanel.style.opacity=0.9});
    photoPanel.addEventListener('dragleave', e=>{photoPanel.style.opacity=1});
    photoPanel.addEventListener('drop', e=>{
      e.preventDefault(); photoPanel.style.opacity=1;
      const f = e.dataTransfer.files && e.dataTransfer.files[0];
      if(!f) return;
      const reader = new FileReader();
      reader.onload = evt => {
        photoPanel.style.backgroundImage = `url(${evt.target.result})`;
        photoPanel.style.backgroundSize = 'cover';
        photoPanel.style.backgroundPosition = 'center';
        photoPanel.textContent = '';
      };
      reader.readAsDataURL(f);
    });

    // small accessibility: keyboard trigger
    document.addEventListener('keydown', (e)=>{
      if(e.key.toLowerCase()==='s'){
        document.getElementById('surpriseBtn').click();
      }
    });

    // set avatar initials from nameTo
    const avatar = document.getElementById('avatar');
    avatar.textContent = CONFIG.nameTo.split(' ')[0].slice(0,2).toUpperCase();

  </script>
</body>
</html>
